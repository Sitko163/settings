# Исправления для стабильности

## Проблемы, которые были исправлены:

1. **keep_vba=True может вызывать ошибки** - добавлена обработка исключений и проверка типа файла
2. **Healthcheck слишком частый** - увеличен interval с 15s до 30s, start_period с 60s до 90s
3. **Улучшена обработка ошибок при загрузке Excel файлов**

## Изменения:

### rubicon_admin/flights/admin.py
- Добавлена проверка типа файла перед использованием keep_vba
- Добавлена обработка исключений при загрузке файлов с макросами

### docker-compose.yaml
- Увеличен interval healthcheck до 30s
- Увеличен start_period до 90s
- Увеличено количество retries до 5

## Рекомендации:

1. Если приложение все еще падает, проверьте логи: `wsl docker-compose logs -f api`
2. Убедитесь, что нет ошибок в коде при импорте модулей
3. Проверьте использование памяти: `wsl docker stats`












